# Task: Analyze and Plan One-Shot Contract Persistence

## Analysis
- [x] Research project structure in `appapi` <!-- id: 0 -->
- [x] Analyze `Contract` and `ContractSheet` migrations <!-- id: 1 -->
- [x] Analyze `Contract` and `ContractSheet` models and relationships <!-- id: 2 -->
- [x] Analyze `Contract` and `ContractSheet` repositories and interfaces <!-- id: 3 -->
- [x] Analyze current `ContractController` implementation <!-- id: 4 -->
- [x] Update `ContractController` methods (`show`, `store`, `update`) <!-- id: 10 -->

## Planning
- [x] Design one-shot JSON data structure for persistence and retrieval <!-- id: 5 -->
- [x] Create implementation plan for atomic create/update in `ContractController` <!-- id: 6 -->
- [x] Implement subtotal calculation logic for `sheet_grossamt` and `sheet_netamt` <!-- id: 8 -->

## Verification
- [x] Skip automation test <!-- id: 7 -->
- [x] Manual verification of one-shot persistence and calculations <!-- id: 9 -->
